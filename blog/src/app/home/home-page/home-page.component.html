<div id="content">
    <div class="columns" style="min-height: 35rem;">
    <div id="page-content" class="column is-four-fifths">
      <div *ngIf="isAuthenticated" id="create-content" class="box">
        <a (click)="toggleEditor()"> [ Toggle Editor ] </a>
      </div>
      <div *ngIf="isEditorOpen" id="content-create-box" class="box">
        <form [formGroup]="postForm" (ngSubmit)="onSubmit()">
          <label class="label">New story</label>
          <div class="field">
            <div class="control">
              <input class="input" type="text" placeholder="Title" formControlName="title"/>
            </div>
          </div>
          <div class="field">
            <div class="control">
              <textarea class="textarea" placeholder="..." formControlName="content"></textarea>
            </div>
          </div>
          <div class="field is-grouped">
            <div class="control">
              <button class="button is-link" type="submit" [disabled]="!postForm.valid">Submit</button>
            </div>
            <div class="control">
              <button class="button is-link is-light" type="reset" (click)="toggleEditor()">Cancel</button>
            </div>
          </div>
        </form>
      </div>
      <div *ngFor="let post of retrievedPosts.results" class="box">
        <article class="media-content">
          <strong>
            {{ post.title }}
          </strong>
          -
          <small>
            {{ post.published | date }}
          </small>
          <br />
          <br />
          <!-- https://bulma.io/documentation/elements/content/
          Use of innerHTML to make Angular render HTML instead of pure text:
          https://angular.io/guide/security#sanitization-example -->
          <div class="content" [innerHTML]="post.content | markdown"></div>
        </article>
      </div>
      <nav *ngIf="retrievedPosts.results.length" class="pagination">
        <!-- https://angular.io/guide/attribute-binding
        https://www.joshuacolvin.net/angular-conditional-attributes/
        https://stackoverflow.com/a/36745752 -->
        <a class="pagination-previous" [attr.disabled]="!previous ? previous : null" (click)="previous && goToPrevious()">Previous</a>
        <a class="pagination-next" [attr.disabled]="!next ? next : null" (click)="next && goToNext()">Next page</a>
      </nav>
    </div>
    <div class="column is-one-fifth" id="side-panel">
      <div id="about-panel" class="box">
        <h1 class="title is-4">Side Panel</h1>
        Here's supposed to have some brief text on what this section is all
        about. Below this I should add maybe links or cool information
      </div>
      <div id="generic" class="box">
        <h1 class="title is-6">Lorem Ipsum</h1>
        Lorem ipsum dolor sit amet
      </div>
    </div>
  </div>
</div>
